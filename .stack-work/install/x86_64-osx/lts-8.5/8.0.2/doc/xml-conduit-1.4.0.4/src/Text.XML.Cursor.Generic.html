<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Generalized cursors to be applied to different nodes.</span><span>
</span><a name="line-2"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text</span><span class="hs-operator">.</span><span class="hs-identifier">XML</span><span class="hs-operator">.</span><span class="hs-identifier">Cursor</span><span class="hs-operator">.</span><span class="hs-identifier">Generic</span><span>
</span><a name="line-3"></a><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-comment">-- * Core</span><span>
</span><a name="line-4"></a><span>      </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span>
</span><a name="line-5"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span>
</span><a name="line-6"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#toCursor"><span class="hs-identifier hs-var">toCursor</span></a><span>
</span><a name="line-7"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#node"><span class="hs-identifier hs-var">node</span></a><span>
</span><a name="line-8"></a><span>      </span><span class="hs-comment">-- * Axes</span><span>
</span><a name="line-9"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier hs-var">child</span></a><span>
</span><a name="line-10"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-var">parent</span></a><span>
</span><a name="line-11"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#precedingSibling"><span class="hs-identifier hs-var">precedingSibling</span></a><span>
</span><a name="line-12"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#followingSibling"><span class="hs-identifier hs-var">followingSibling</span></a><span>
</span><a name="line-13"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#ancestor"><span class="hs-identifier hs-var">ancestor</span></a><span>
</span><a name="line-14"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a><span>
</span><a name="line-15"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier hs-var">orSelf</span></a><span>
</span><a name="line-16"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#preceding"><span class="hs-identifier hs-var">preceding</span></a><span>
</span><a name="line-17"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Text.XML.Cursor.Generic.html#following"><span class="hs-identifier hs-var">following</span></a><span>
</span><a name="line-18"></a><span>      </span><span class="hs-comment">-- * Operators</span><span>
</span><a name="line-19"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#%26%7C"><span class="hs-operator hs-var">&amp;|</span></a><span class="hs-special">)</span><span>
</span><a name="line-20"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#%26%2F"><span class="hs-operator hs-var">&amp;/</span></a><span class="hs-special">)</span><span>
</span><a name="line-21"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#%26%2F%2F"><span class="hs-operator hs-var">&amp;//</span></a><span class="hs-special">)</span><span>
</span><a name="line-22"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#%26.%2F%2F"><span class="hs-operator hs-var">&amp;.//</span></a><span class="hs-special">)</span><span>
</span><a name="line-23"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#%24%7C"><span class="hs-operator hs-var">$|</span></a><span class="hs-special">)</span><span>
</span><a name="line-24"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#%24%2F"><span class="hs-operator hs-var">$/</span></a><span class="hs-special">)</span><span>
</span><a name="line-25"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#%24%2F%2F"><span class="hs-operator hs-var">$//</span></a><span class="hs-special">)</span><span>
</span><a name="line-26"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#%24.%2F%2F"><span class="hs-operator hs-var">$.//</span></a><span class="hs-special">)</span><span>
</span><a name="line-27"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">&gt;=&gt;</span><span class="hs-special">)</span><span>
</span><a name="line-28"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-29"></a><span>
</span><a name="line-30"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">maybeToList</span><span class="hs-special">)</span><span>
</span><a name="line-31"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">List</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">foldl'</span><span class="hs-special">)</span><span>
</span><a name="line-32"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">&gt;=&gt;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-33"></a><span>
</span><a name="line-34"></a><span class="hs-keyword">type</span><span> </span><a name="DiffCursor"><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier">DiffCursor</span></a></a><span> </span><a name="local-6989586621679099095"><a href="#local-6989586621679099095"><span class="hs-identifier">node</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099095"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099095"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">]</span><span>
</span><a name="line-35"></a><span class="hs-keyword">type</span><span> </span><a name="Axis"><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier">Axis</span></a></a><span> </span><a name="local-6989586621679099094"><a href="#local-6989586621679099094"><span class="hs-identifier">node</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099094"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099094"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">]</span><span>
</span><a name="line-36"></a><span>
</span><a name="line-37"></a><span class="hs-comment">-- | A cursor: contains an XML 'Node' and pointers to its children, ancestors and siblings.</span><span>
</span><a name="line-38"></a><span class="hs-keyword">data</span><span> </span><a name="Cursor"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier">Cursor</span></a></a><span> </span><a name="local-6989586621679099093"><a href="#local-6989586621679099093"><span class="hs-identifier">node</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Cursor"><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier">Cursor</span></a></a><span>
</span><a name="line-39"></a><span>    </span><span class="hs-special">{</span><span> </span><a name="parent%27"><a href="Text.XML.Cursor.Generic.html#parent%27"><span class="hs-identifier">parent'</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099093"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">)</span><span>
</span><a name="line-40"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="precedingSibling%27"><a href="Text.XML.Cursor.Generic.html#precedingSibling%27"><span class="hs-identifier">precedingSibling'</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-type">DiffCursor</span></a><span> </span><a href="#local-6989586621679099093"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-41"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="followingSibling%27"><a href="Text.XML.Cursor.Generic.html#followingSibling%27"><span class="hs-identifier">followingSibling'</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-type">DiffCursor</span></a><span> </span><a href="#local-6989586621679099093"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-42"></a><span>    </span><span class="hs-comment">-- | The child axis. XPath:</span><span>
</span><a name="line-43"></a><span>    </span><span class="hs-comment">-- /the child axis contains the children of the context node/.</span><span>
</span><a name="line-44"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="child"><a href="Text.XML.Cursor.Generic.html#child"><span class="hs-identifier">child</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099093"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">]</span><span>
</span><a name="line-45"></a><span>    </span><span class="hs-comment">-- | The current node.</span><span>
</span><a name="line-46"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="node"><a href="Text.XML.Cursor.Generic.html#node"><span class="hs-identifier">node</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679099093"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-47"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-48"></a><span>
</span><a name="line-49"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><a href="#local-6989586621679099172"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099172"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-50"></a><span>    </span><a name="local-8214565720323791197"><span class="hs-identifier">show</span></a><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-var">Cursor</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">node</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679099173"><a href="#local-6989586621679099173"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Cursor @ &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621679099173"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-51"></a><span>
</span><a name="line-52"></a><span class="hs-identifier">toCursor</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679099122"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099122"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ get children</span><span>
</span><a name="line-53"></a><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679099122"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-54"></a><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099122"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-55"></a><a name="toCursor"><a href="Text.XML.Cursor.Generic.html#toCursor"><span class="hs-identifier">toCursor</span></a></a><span> </span><a name="local-6989586621679099123"><a href="#local-6989586621679099123"><span class="hs-identifier">cs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.XML.Cursor.Generic.html#toCursor%27"><span class="hs-identifier hs-var">toCursor'</span></a><span> </span><a href="#local-6989586621679099123"><span class="hs-identifier hs-var">cs</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-identifier hs-var">id</span><span> </span><span class="hs-identifier hs-var">id</span><span>
</span><a name="line-56"></a><span>
</span><a name="line-57"></a><span class="hs-identifier">toCursor'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679099121"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099121"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-58"></a><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099121"><span class="hs-identifier hs-type">node</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-type">DiffCursor</span></a><span> </span><a href="#local-6989586621679099121"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.XML.Cursor.Generic.html#DiffCursor"><span class="hs-identifier hs-type">DiffCursor</span></a><span> </span><a href="#local-6989586621679099121"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679099121"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099121"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-59"></a><a name="toCursor%27"><a href="Text.XML.Cursor.Generic.html#toCursor%27"><span class="hs-identifier">toCursor'</span></a></a><span> </span><a name="local-6989586621679099124"><a href="#local-6989586621679099124"><span class="hs-identifier">cs</span></a></a><span> </span><a name="local-6989586621679099125"><a href="#local-6989586621679099125"><span class="hs-identifier">par</span></a></a><span> </span><a name="local-6989586621679099126"><a href="#local-6989586621679099126"><span class="hs-identifier">pre</span></a></a><span> </span><a name="local-6989586621679099127"><a href="#local-6989586621679099127"><span class="hs-identifier">fol</span></a></a><span> </span><a name="local-6989586621679099128"><a href="#local-6989586621679099128"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-60"></a><span>    </span><a href="#local-6989586621679099129"><span class="hs-identifier hs-var">me</span></a><span>
</span><a name="line-61"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-62"></a><span>    </span><a name="local-6989586621679099129"><a href="#local-6989586621679099129"><span class="hs-identifier">me</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-var">Cursor</span></a><span> </span><a href="#local-6989586621679099125"><span class="hs-identifier hs-var">par</span></a><span> </span><a href="#local-6989586621679099126"><span class="hs-identifier hs-var">pre</span></a><span> </span><a href="#local-6989586621679099127"><span class="hs-identifier hs-var">fol</span></a><span> </span><a href="#local-6989586621679099131"><span class="hs-identifier hs-var">chi</span></a><span> </span><a href="#local-6989586621679099128"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-63"></a><span>    </span><a name="local-6989586621679099130"><a href="#local-6989586621679099130"><span class="hs-identifier">chi'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099124"><span class="hs-identifier hs-var">cs</span></a><span> </span><a href="#local-6989586621679099128"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-64"></a><span>    </span><a name="local-6989586621679099131"><a href="#local-6989586621679099131"><span class="hs-identifier">chi</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099132"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-identifier hs-var">id</span><span> </span><a href="#local-6989586621679099130"><span class="hs-identifier hs-var">chi'</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-65"></a><span>    </span><a name="local-6989586621679099132"><a href="#local-6989586621679099132"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">id</span><span>
</span><a name="line-66"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679099133"><a href="#local-6989586621679099133"><span class="hs-identifier">pre'</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679099134"><a href="#local-6989586621679099134"><span class="hs-identifier">n'</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679099135"><a href="#local-6989586621679099135"><span class="hs-identifier">ns'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-67"></a><span>        </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679099136"><span class="hs-identifier hs-var">me'</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679099137"><span class="hs-identifier hs-var">fol'</span></a><span>
</span><a name="line-68"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-69"></a><span>        </span><a name="local-6989586621679099136"><a href="#local-6989586621679099136"><span class="hs-identifier">me'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.XML.Cursor.Generic.html#toCursor%27"><span class="hs-identifier hs-var">toCursor'</span></a><span> </span><a href="#local-6989586621679099124"><span class="hs-identifier hs-var">cs</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621679099129"><span class="hs-identifier hs-var">me</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679099133"><span class="hs-identifier hs-var">pre'</span></a><span> </span><a href="#local-6989586621679099137"><span class="hs-identifier hs-var">fol'</span></a><span> </span><a href="#local-6989586621679099134"><span class="hs-identifier hs-var">n'</span></a><span>
</span><a name="line-70"></a><span>        </span><a name="local-6989586621679099137"><a href="#local-6989586621679099137"><span class="hs-identifier">fol'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099132"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679099133"><span class="hs-identifier hs-var">pre'</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679099136"><span class="hs-identifier hs-var">me'</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679099135"><span class="hs-identifier hs-var">ns'</span></a><span>
</span><a name="line-71"></a><span>
</span><a name="line-72"></a><span class="hs-comment">-- | The parent axis. As described in XPath:</span><span>
</span><a name="line-73"></a><span class="hs-comment">-- /the parent axis contains the parent of the context node, if there is one/.</span><span>
</span><a name="line-74"></a><span class="hs-comment">--</span><span>
</span><a name="line-75"></a><span class="hs-comment">-- Every node but the root element of the document has a parent. Parent nodes</span><span>
</span><a name="line-76"></a><span class="hs-comment">-- will always be 'NodeElement's.</span><span>
</span><a name="line-77"></a><span class="hs-identifier">parent</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099120"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-78"></a><a name="parent"><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier">parent</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybeToList</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">parent'</span><span>
</span><a name="line-79"></a><span>
</span><a name="line-80"></a><span class="hs-comment">-- | The preceding-sibling axis. XPath:</span><span>
</span><a name="line-81"></a><span class="hs-comment">-- /the preceding-sibling axis contains all the preceding siblings of the context node [...]/.</span><span>
</span><a name="line-82"></a><span class="hs-identifier">precedingSibling</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099119"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-83"></a><a name="precedingSibling"><a href="Text.XML.Cursor.Generic.html#precedingSibling"><span class="hs-identifier">precedingSibling</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">precedingSibling'</span><span>
</span><a name="line-84"></a><span>
</span><a name="line-85"></a><span class="hs-comment">-- | The following-sibling axis. XPath:</span><span>
</span><a name="line-86"></a><span class="hs-comment">-- /the following-sibling axis contains all the following siblings of the context node [...]/.</span><span>
</span><a name="line-87"></a><span class="hs-identifier">followingSibling</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099118"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-88"></a><a name="followingSibling"><a href="Text.XML.Cursor.Generic.html#followingSibling"><span class="hs-identifier">followingSibling</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">followingSibling'</span><span>
</span><a name="line-89"></a><span>
</span><a name="line-90"></a><span class="hs-comment">-- | The preceding axis. XPath:</span><span>
</span><a name="line-91"></a><span class="hs-comment">-- /the preceding axis contains all nodes in the same document as the context node that are before the context node in document order, excluding any ancestors and excluding attribute nodes and namespace nodes/.</span><span>
</span><a name="line-92"></a><span class="hs-identifier">preceding</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099117"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-93"></a><a name="preceding"><a href="Text.XML.Cursor.Generic.html#preceding"><span class="hs-identifier">preceding</span></a></a><span> </span><a name="local-6989586621679099138"><a href="#local-6989586621679099138"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-94"></a><span>    </span><a href="#local-6989586621679099139"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">precedingSibling'</span><span> </span><a href="#local-6989586621679099138"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-var">parent</span></a><span> </span><a href="#local-6989586621679099138"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><a href="Text.XML.Cursor.Generic.html#preceding"><span class="hs-identifier hs-var">preceding</span></a><span class="hs-special">)</span><span>
</span><a name="line-95"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-96"></a><span>    </span><a name="local-6989586621679099139"><a href="#local-6989586621679099139"><span class="hs-identifier">go</span></a></a><span> </span><a name="local-6989586621679099141"><a href="#local-6989586621679099141"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679099142"><a href="#local-6989586621679099142"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">foldl'</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">flip</span><span> </span><a href="#local-6989586621679099140"><span class="hs-identifier hs-var">go'</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679099142"><span class="hs-identifier hs-var">y</span></a><span> </span><a href="#local-6989586621679099141"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-97"></a><span>    </span><a name="local-6989586621679099140"><a href="#local-6989586621679099140"><span class="hs-identifier">go'</span></a></a><span> </span><a name="local-6989586621679099143"><a href="#local-6989586621679099143"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679099144"><a href="#local-6989586621679099144"><span class="hs-identifier">rest</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">foldl'</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">flip</span><span>  </span><a href="#local-6989586621679099140"><span class="hs-identifier hs-var">go'</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679099143"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679099144"><span class="hs-identifier hs-var">rest</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">child</span><span> </span><a href="#local-6989586621679099143"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-98"></a><span>
</span><a name="line-99"></a><span class="hs-comment">-- | The following axis. XPath:</span><span>
</span><a name="line-100"></a><span class="hs-comment">-- /the following axis contains all nodes in the same document as the context node that are after the context node in document order, excluding any descendants and excluding attribute nodes and namespace nodes/.</span><span>
</span><a name="line-101"></a><span class="hs-identifier">following</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099116"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-102"></a><a name="following"><a href="Text.XML.Cursor.Generic.html#following"><span class="hs-identifier">following</span></a></a><span> </span><a name="local-6989586621679099145"><a href="#local-6989586621679099145"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-103"></a><span>    </span><a href="#local-6989586621679099146"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">followingSibling'</span><span> </span><a href="#local-6989586621679099145"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-var">parent</span></a><span> </span><a href="#local-6989586621679099145"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><a href="Text.XML.Cursor.Generic.html#following"><span class="hs-identifier hs-var">following</span></a><span class="hs-special">)</span><span>
</span><a name="line-104"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-105"></a><span>    </span><a name="local-6989586621679099146"><a href="#local-6989586621679099146"><span class="hs-identifier">go</span></a></a><span> </span><a name="local-6989586621679099148"><a href="#local-6989586621679099148"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679099149"><a href="#local-6989586621679099149"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">foldr</span><span> </span><a href="#local-6989586621679099147"><span class="hs-identifier hs-var">go'</span></a><span> </span><a href="#local-6989586621679099149"><span class="hs-identifier hs-var">z</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679099148"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-106"></a><span>    </span><a name="local-6989586621679099147"><a href="#local-6989586621679099147"><span class="hs-identifier">go'</span></a></a><span> </span><a name="local-6989586621679099150"><a href="#local-6989586621679099150"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679099151"><a href="#local-6989586621679099151"><span class="hs-identifier">rest</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099150"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier hs-var">foldr</span><span> </span><a href="#local-6989586621679099147"><span class="hs-identifier hs-var">go'</span></a><span> </span><a href="#local-6989586621679099151"><span class="hs-identifier hs-var">rest</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">child</span><span> </span><a href="#local-6989586621679099150"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-107"></a><span>
</span><a name="line-108"></a><span class="hs-comment">-- | The ancestor axis. XPath:</span><span>
</span><a name="line-109"></a><span class="hs-comment">-- /the ancestor axis contains the ancestors of the context node; the ancestors of the context node consist of the parent of context node and the parent's parent and so on; thus, the ancestor axis will always include the root node, unless the context node is the root node/.</span><span>
</span><a name="line-110"></a><span class="hs-identifier">ancestor</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099115"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-111"></a><a name="ancestor"><a href="Text.XML.Cursor.Generic.html#ancestor"><span class="hs-identifier">ancestor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.XML.Cursor.Generic.html#parent"><span class="hs-identifier hs-var">parent</span></a><span> </span><span class="hs-operator hs-var">&gt;=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679099152"><a href="#local-6989586621679099152"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679099152"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="Text.XML.Cursor.Generic.html#ancestor"><span class="hs-identifier hs-var">ancestor</span></a><span> </span><a href="#local-6989586621679099152"><span class="hs-identifier hs-var">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-112"></a><span>
</span><a name="line-113"></a><span class="hs-comment">-- | The descendant axis. XPath:</span><span>
</span><a name="line-114"></a><span class="hs-comment">-- /the descendant axis contains the descendants of the context node; a descendant is a child or a child of a child and so on; thus the descendant axis never contains attribute or namespace nodes/.</span><span>
</span><a name="line-115"></a><span class="hs-identifier">descendant</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099114"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-116"></a><a name="descendant"><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier">descendant</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">child</span><span> </span><span class="hs-operator hs-var">&gt;=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679099153"><a href="#local-6989586621679099153"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679099153"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a><span> </span><a href="#local-6989586621679099153"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-117"></a><span>
</span><a name="line-118"></a><span class="hs-comment">-- | Modify an axis by adding the context node itself as the first element of the result list.</span><span>
</span><a name="line-119"></a><span class="hs-identifier">orSelf</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099113"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099113"><span class="hs-identifier hs-type">node</span></a><span>
</span><a name="line-120"></a><a name="orSelf"><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier">orSelf</span></a></a><span> </span><a name="local-6989586621679099154"><a href="#local-6989586621679099154"><span class="hs-identifier">ax</span></a></a><span> </span><a name="local-6989586621679099155"><a href="#local-6989586621679099155"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099155"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679099154"><span class="hs-identifier hs-var">ax</span></a><span> </span><a href="#local-6989586621679099155"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-121"></a><span>
</span><a name="line-122"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator">&amp;|</span><span>
</span><a name="line-123"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator">&amp;/</span><span> </span><span>
</span><a name="line-124"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator">&amp;//</span><span> </span><span>
</span><a name="line-125"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator">&amp;.//</span><span> </span><span>
</span><a name="line-126"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator">$|</span><span>
</span><a name="line-127"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator">$/</span><span>
</span><a name="line-128"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator">$//</span><span>
</span><a name="line-129"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator">$.//</span><span>
</span><a name="line-130"></a><span>
</span><a name="line-131"></a><span class="hs-comment">-- | Apply a function to the result of an axis.</span><span>
</span><a name="line-132"></a><span class="hs-special">(</span><span class="hs-operator">&amp;|</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099110"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099111"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679099111"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679099112"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099110"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099112"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-133"></a><a name="local-6989586621679099156"><a href="#local-6989586621679099156"><span class="hs-identifier">f</span></a></a><span> </span><a name="%26%7C"><a href="Text.XML.Cursor.Generic.html#%26%7C"><span class="hs-operator">&amp;|</span></a></a><span> </span><a name="local-6989586621679099157"><a href="#local-6989586621679099157"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="#local-6989586621679099157"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679099156"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-134"></a><span>
</span><a name="line-135"></a><span class="hs-comment">-- | Combine two axes so that the second works on the children of the results</span><span>
</span><a name="line-136"></a><span class="hs-comment">-- of the first.</span><span>
</span><a name="line-137"></a><span class="hs-special">(</span><span class="hs-operator">&amp;/</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099108"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099108"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099109"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099108"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099109"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-138"></a><a name="local-6989586621679099158"><a href="#local-6989586621679099158"><span class="hs-identifier">f</span></a></a><span> </span><a name="%26%2F"><a href="Text.XML.Cursor.Generic.html#%26%2F"><span class="hs-operator">&amp;/</span></a></a><span> </span><a name="local-6989586621679099159"><a href="#local-6989586621679099159"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099158"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">&gt;=&gt;</span><span> </span><span class="hs-identifier">child</span><span> </span><span class="hs-operator hs-var">&gt;=&gt;</span><span> </span><a href="#local-6989586621679099159"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-139"></a><span>
</span><a name="line-140"></a><span class="hs-comment">-- | Combine two axes so that the second works on the descendants of the results</span><span>
</span><a name="line-141"></a><span class="hs-comment">-- of the first.</span><span>
</span><a name="line-142"></a><span class="hs-special">(</span><span class="hs-operator">&amp;//</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099106"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099106"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099107"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099106"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099107"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-143"></a><a name="local-6989586621679099160"><a href="#local-6989586621679099160"><span class="hs-identifier">f</span></a></a><span> </span><a name="%26%2F%2F"><a href="Text.XML.Cursor.Generic.html#%26%2F%2F"><span class="hs-operator">&amp;//</span></a></a><span> </span><a name="local-6989586621679099161"><a href="#local-6989586621679099161"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099160"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">&gt;=&gt;</span><span> </span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a><span> </span><span class="hs-operator hs-var">&gt;=&gt;</span><span> </span><a href="#local-6989586621679099161"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-144"></a><span>
</span><a name="line-145"></a><span class="hs-comment">-- | Combine two axes so that the second works on both the result nodes, and their</span><span>
</span><a name="line-146"></a><span class="hs-comment">-- descendants.</span><span>
</span><a name="line-147"></a><span class="hs-special">(</span><span class="hs-operator">&amp;.//</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Axis"><span class="hs-identifier hs-type">Axis</span></a><span> </span><a href="#local-6989586621679099104"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099104"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099105"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099104"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099105"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-148"></a><a name="local-6989586621679099162"><a href="#local-6989586621679099162"><span class="hs-identifier">f</span></a></a><span> </span><a name="%26.%2F%2F"><a href="Text.XML.Cursor.Generic.html#%26.%2F%2F"><span class="hs-operator">&amp;.//</span></a></a><span> </span><a name="local-6989586621679099163"><a href="#local-6989586621679099163"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099162"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">&gt;=&gt;</span><span> </span><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier hs-var">orSelf</span></a><span> </span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a><span> </span><span class="hs-operator hs-var">&gt;=&gt;</span><span> </span><a href="#local-6989586621679099163"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-149"></a><span>
</span><a name="line-150"></a><span class="hs-comment">-- | Apply an axis to a 'Cursor node'.</span><span>
</span><a name="line-151"></a><span class="hs-special">(</span><span class="hs-operator">$|</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099102"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099102"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679099103"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679099103"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-152"></a><a name="local-6989586621679099164"><a href="#local-6989586621679099164"><span class="hs-identifier">v</span></a></a><span> </span><a name="%24%7C"><a href="Text.XML.Cursor.Generic.html#%24%7C"><span class="hs-operator">$|</span></a></a><span> </span><a name="local-6989586621679099165"><a href="#local-6989586621679099165"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679099165"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679099164"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-153"></a><span>
</span><a name="line-154"></a><span class="hs-comment">-- | Apply an axis to the children of a 'Cursor node'.</span><span>
</span><a name="line-155"></a><span class="hs-special">(</span><span class="hs-operator">$/</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099100"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099100"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099101"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099101"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-156"></a><a name="local-6989586621679099166"><a href="#local-6989586621679099166"><span class="hs-identifier">v</span></a></a><span> </span><a name="%24%2F"><a href="Text.XML.Cursor.Generic.html#%24%2F"><span class="hs-operator">$/</span></a></a><span> </span><a name="local-6989586621679099167"><a href="#local-6989586621679099167"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">child</span><span> </span><a href="#local-6989586621679099166"><span class="hs-identifier hs-var">v</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><a href="#local-6989586621679099167"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-157"></a><span>
</span><a name="line-158"></a><span class="hs-comment">-- | Apply an axis to the descendants of a 'Cursor node'.</span><span>
</span><a name="line-159"></a><span class="hs-special">(</span><span class="hs-operator">$//</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099098"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099098"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099099"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099099"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-160"></a><a name="local-6989586621679099168"><a href="#local-6989586621679099168"><span class="hs-identifier">v</span></a></a><span> </span><a name="%24%2F%2F"><a href="Text.XML.Cursor.Generic.html#%24%2F%2F"><span class="hs-operator">$//</span></a></a><span> </span><a name="local-6989586621679099169"><a href="#local-6989586621679099169"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a><span> </span><a href="#local-6989586621679099168"><span class="hs-identifier hs-var">v</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><a href="#local-6989586621679099169"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-161"></a><span>
</span><a name="line-162"></a><span class="hs-comment">-- | Apply an axis to a 'Cursor node' as well as its descendants.</span><span>
</span><a name="line-163"></a><span class="hs-special">(</span><span class="hs-operator">$.//</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099096"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.XML.Cursor.Generic.html#Cursor"><span class="hs-identifier hs-type">Cursor</span></a><span> </span><a href="#local-6989586621679099096"><span class="hs-identifier hs-type">node</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099097"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679099097"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-164"></a><a name="local-6989586621679099170"><a href="#local-6989586621679099170"><span class="hs-identifier">v</span></a></a><span> </span><a name="%24.%2F%2F"><a href="Text.XML.Cursor.Generic.html#%24.%2F%2F"><span class="hs-operator">$.//</span></a></a><span> </span><a name="local-6989586621679099171"><a href="#local-6989586621679099171"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.XML.Cursor.Generic.html#orSelf"><span class="hs-identifier hs-var">orSelf</span></a><span> </span><a href="Text.XML.Cursor.Generic.html#descendant"><span class="hs-identifier hs-var">descendant</span></a><span> </span><a href="#local-6989586621679099170"><span class="hs-identifier hs-var">v</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><a href="#local-6989586621679099171"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-165"></a></pre></body></html>